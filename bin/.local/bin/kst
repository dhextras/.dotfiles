#!/bin/bash

# Kill SSH tunnel forwarding on given port (default: 5901)
PORT=${1:-5901}

PID=$(ps aux | grep "ssh .*${PORT}:localhost:5901" | grep -v grep | awk '{print $2}')

if [ -n "$PID" ]; then
    echo "Killing SSH tunnel on port $PORT (PID: $PID)..."
    kill -9 $PID
    echo "Done."
else
    echo "No SSH tunnel found on port $PORT."
fi

